<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Resource Definitions (CRD) :: Rancher product documentation</title>
    <link rel="canonical" href="https://documentation.suse.com/cloudnative/policy-manager/1.22/en/reference/CRDs.html">
    <link rel="prev" href="../howtos/contribution-guide/suggesting-an-improvement.html">
    <link rel="next" href="dependency-matrix.html">
    <meta name="description" content="Kubewarden's Custom Resource Definitions (CRD)">
    <meta name="keywords" content="["kubewarden", "kubernetes", "custom resource definitions", "crd"]">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="../../../../_/css/search.css">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../../../_/css/font-styles.css">
<link rel="stylesheet" href="../../../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap" rel="stylesheet">
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../../../_/css/vendor/light.css">
<!-- <script src="/docserv/res/lightheaded/analytics.js"
        type="text/javascript"></script> -->
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a class=" navbar-logo" href="https://documentation.suse.com/" aria-label="SUSE Documentation Home"><img class="logo"
            src="../../../../_/img/logo.svg" alt="SUSE logo"/></a>
      </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label class="visual-search-label" for="search-input">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
          <input label="Search" aria-label="Search" id="search-input" type="text" placeholder="Search the docs" >
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">
            <img src="../../../../_/img/resources.png" class="langIcon Resurces" alt="Resources" title="Resources">
          </div>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rancher/kubewarden-product-docs"><i class="fab fa-github"></i>&nbsp;Policy Manager</a>
            <div class="has-submenu">
              <a class="navbar-item" href="#" ><i class="fas fa-file-alt"></i>&nbsp;Report Issue &nbsp;<i class="fas fa-chevron-right"></i></a>
              <div class="submenu">
                <a class="navbar-item" href="https://scc.suse.com">SCC (Recommended)</a>
                <a class="navbar-item" href="https://github.com/rancher/kubewarden-product-docs/issues">GitHub Issue</a>
              </div>
            </div>
            <a class="navbar-item" href="https://github.com/rancher/product-docs-playbook/blob/main/CONTRIBUTING.md"><i class="fas fa-user-edit"></i>&nbsp;Contribute</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link"><img src="../../../../_/img/language.png" class="langIcon Language" alt="Language"
              title="Language"></div>
          <div class="navbar-dropdown">
            <!--  </div><div>Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div> -->
              <a role="button" class="navbar-item" id="en" onclick="selectLanguage(this.id)">
                <!--<img src="../../../../_/img/engFlag.svg" class="langIcon english">-->
                &nbsp;English
              </a>
            <!-- LANGUAGESELECTOR -->
          </div>
        </div>
        <!--
        <div class="navbar-item">
          <a href="https://twitter.com/SUSE">
            <img alt="X-logo" class="x-logo" src="../../../../_/img/x-logo-white.png">
          </a>
        </div>
        -->
      </div>
    </div>

    <!--   <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div> -->
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="policy-manager" data-version="1.16">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../introduction.html">Policy Manager</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../quick-start.html">Quick start</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../tutorials/writing-policies/index.html">Writing Kubewarden policies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../tutorials/writing-policies/CEL/01-intro-cel.html">Introduction to CEL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/CEL/02-reusing-vap.html">Reusing ValidatingAdmissionPolicies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/CEL/03-context-aware.html">Context-aware CEL policies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/CEL/04-example-sigstore.html">Sigstore host capabilities</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../tutorials/writing-policies/rust/01-intro-rust.html">Rust</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/02-create-policy.html">Creating a policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/03-define-policy-settings.html">Defining policy settings</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/04-write-validation-logic.html">Writing validation logic</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/05-mutation-policy.html">Creating a new mutation policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/06-logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/07-build-and-distribute.html">Building and distributing policies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rust/08-raw-policies.html">Raw policies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../tutorials/writing-policies/go/01-intro-go.html">Writing policies in Go</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/02-scaffold.html">Creating a new validation policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/03-policy-settings.html">Defining policy settings</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/04-validation.html">Writing the validation logic</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/05-e2e-tests.html">End-to-end testing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/06-logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/07-automate.html">Integrating with GitHub Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/08-distribute.html">Distributing policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/09-validation-with-queries.html">Validation using JSON queries</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/go/10-raw-policies.html">Writing raw policies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../tutorials/writing-policies/rego/01-intro-rego.html">Rego</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/rego/02-builtin-support.html">Builtin support</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Open Policy Agent</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/open-policy-agent/01-intro.html">Introduction to Open Policy Agent</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/open-policy-agent/02-create-policy.html">Creating a new policy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/open-policy-agent/03-build-and-run.html">Build and run a OPA policy for Kubewarden</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/open-policy-agent/04-distribute.html">Distributing an OPA policy with Kubewarden</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/open-policy-agent/05-raw-policies.html">Writing raw policies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Gatekeeper</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/gatekeeper/01-intro.html">Gatekeeper support</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/gatekeeper/02-create-policy.html">Creating a new Gatekeeper Rego policy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/gatekeeper/03-build-and-run.html">Build and run a Gatekeeper policy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tutorials/writing-policies/rego/gatekeeper/04-distribute.html">Distributing a Gatekeeper policy with Kubewarden</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/writing-policies/dotnet.html">C#</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/writing-policies/swift.html">Swift</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/writing-policies/typescript.html">Typescript</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/writing-policies/other-languages.html">Other languages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">WASI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/wasi/01-intro-wasi.html">WASI</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tutorials/writing-policies/wasi/02-raw-policies.html">Writing raw policies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/writing-policies/metadata.html">Policy metadata</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Testing policies</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/testing-policies/index.html">Policy testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/testing-policies/02-policy-authors.html">Testing for policy authors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/testing-policies/03-cluster-operators.html">Testing for cluster operators</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/verifying-kubewarden.html">Verifying Kubewarden</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/publish-policy-to-artifact-hub.html">Publish policies to Artifact Hub</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Explanations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/mutating-policies.html">Mutating policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/distributing-policies.html">Distributing policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Comparisons</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../explanations/comparisons/opa-comparison.html">Kubewarden vs OPA Gatekeeper</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../explanations/audit-scanner/audit-scanner.html">What is the Audit Scanner?</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../explanations/audit-scanner/limitations.html">Audit Scanner - Limitations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../explanations/audit-scanner/policy-reports.html">Audit Scanner - Policy Reports</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../explanations/context-aware-policies.html">Context aware policies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/architecture.html">Kubewarden architecture</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Howtos</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/tasks.html">Common tasks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/psp-migration.html">PodSecurityPolicy migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/pod-security-admission-with-kubewarden.html">Using Pod Security Admission with Kubewarden</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/secure-supply-chain.html">Secure supply chain</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/custom-certificate-authorities.html">Custom certificate authorities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/raw-policies.html">Raw policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/audit-scanner.html">Audit Scanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Configuring Policy Servers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/policy-servers/01-custom-cas.html">Using custom certificate authorities</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/policy-servers/02-private-registry.html">Configuring PolicyServers to use private registries</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/policy-servers/03-production-deployments.html">Configuring PolicyServers for production</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/policies.html">Configuring policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Airgap</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/airgap/01-requirements.html">Requirements for a Kubewarden air gap installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/airgap/02-install.html">Air gap installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Rancher UI extension</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/ui-extension/01-install.html">Rancher UI extension quickstart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/ui-extension/02-metrics.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/ui-extension/03-tracing.html">Tracing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Telemetry quick starts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/telemetry/20-tracing-qs.html">Tracing quickstart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/telemetry/30-metrics-qs.html">Metrics quickstart</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/telemetry/10-opentelemetry-qs.html">Open Telemetry quick start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../howtos/Rancher-Fleet.html">Managing Kubewarden with Rancher Fleet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../howtos/contribution-guide/contribution-guide.html">Contribution guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/contribution-guide/contributing.html">Contributing to Kubewarden documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/contribution-guide/suggesting-an-improvement.html">Suggesting a doc improvement</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="CRDs.html">Custom Resource Definitions (CRD)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dependency-matrix.html">Dependency matrix</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade-path.html">Upgrade path</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="metrics-reference.html">Metrics reference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="monitor-mode.html">Monitor mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Policy specification</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spec/01-intro-spec.html">Policy communication specification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spec/02-settings.html">Policy settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spec/03-validating-policies.html">Validating policies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spec/04-mutating-policies.html">Mutating policies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spec/05-context-aware-policies.html">Context aware policies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Host capabilities</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="spec/host-capabilities/01-intro-host-capabilities.html">Host capabilities specification</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="spec/host-capabilities/02-signature-verifier-policies.html">Signature verifier policies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="spec/host-capabilities/03-container-registry.html">Container registry capabilities</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="spec/host-capabilities/04-net.html">Network capabilities</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="spec/host-capabilities/05-crypto.html">Cryptographic capabilities</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="spec/host-capabilities/06-kubernetes.html">Kubernetes capabilities</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oci-registries-support.html">OCI registry support for Kubewarden</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="threat-model.html">Threat Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="policy-evaluation-timeout.html">Policy evaluation timeout protection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="verification-config.html">Verification configuration format</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sources_yaml.html">Reference for sources.yaml</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../disclosure.html">Security disclosure</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Policy Manager</span>
    <span class="version">1.16</span>
  </div>
  <ul class="components">
        <li class="component">
          <div class="title"><a href="../../../../cluster-api/v0.16/en/index.html">Cluster API</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../cluster-api/v0.16/en/index.html">0.16</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.15/en/index.html">0.15</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.14/en/index.html">0.14</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.13/en/index.html">0.13</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.11/en/index.html">0.11</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../continuous-delivery/v0.11/en/index.html">Continuous Delivery</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../continuous-delivery/v0.11/en/index.html">0.11</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.10/en/index.html">0.10</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.9/en/index.html">0.9</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../k3s/latest/en/introduction.html">K3s</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../k3s/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../os-manager/1.6/en/index.html">OS Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../os-manager/1.6/en/index.html">1.6</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.5/en/index.html">1.5</a>
            </li>
          </ul>
        </li>
        <li class="component is-current">
          <div class="title"><a href="../../../1.22/en/introduction.html">Policy Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../1.22/en/introduction.html">1.22-next</a>
            </li>
            <li class="version">
              <a href="../../../1.21/en/introduction.html">1.21</a>
            </li>
            <li class="version">
              <a href="../../../1.20/en/introduction.html">1.20</a>
            </li>
            <li class="version">
              <a href="../../../1.19/en/introduction.html">1.19</a>
            </li>
            <li class="version">
              <a href="../../../1.18/en/introduction.html">1.18</a>
            </li>
            <li class="version">
              <a href="../../../1.17/en/introduction.html">1.17</a>
            </li>
            <li class="version is-current">
              <a href="../introduction.html">1.16</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rke2/latest/en/introduction.html">RKE2</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rke2/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">SUSE速 Rancher Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.10/en/about-rancher/what-is-rancher.html">v2.10</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.9/en/about-rancher/what-is-rancher.html">v2.9</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.8/en/about-rancher/what-is-rancher.html">v2.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../security/5.4/en/overview.html">SUSE速 Security</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../security/5.4/en/overview.html">5.4</a>
            </li>
            <li class="version">
              <a href="../../../../security/5.3/en/overview.html">5.3</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../storage/1.9.0/en/longhorn-documentation.html">SUSE速 Storage</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../storage/1.9.0/en/longhorn-documentation.html">1.9.0 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../../storage/1.8.0/en/longhorn-documentation.html">1.8.0 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../storage/1.7.0/en/longhorn-documentation.html">1.7.0</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../virtualization/v1.5/en/introduction/overview.html">SUSE速 Virtualization</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../virtualization/v1.5/en/introduction/overview.html">v1.5 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.4/en/introduction/overview.html">v1.4 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.3/en/introduction/overview.html">v1.3</a>
            </li>
          </ul>
        </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html" aria-label="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../introduction.html">Policy Manager</a></li>
    <li>Reference</li>
    <li><a href="CRDs.html">Custom Resource Definitions (CRD)</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.16</button>
  <div class="version-menu">
    <a class="version" href="../../../1.22/en/reference/CRDs.html">1.22-next</a>
    <a class="version" href="../../../1.21/en/reference/CRDs.html">1.21</a>
    <a class="version" href="../../../1.20/en/reference/CRDs.html">1.20</a>
    <a class="version" href="../../../1.19/en/reference/CRDs.html">1.19</a>
    <a class="version" href="../../../1.18/en/reference/CRDs.html">1.18</a>
    <a class="version" href="../../../1.17/en/reference/CRDs.html">1.17</a>
    <a class="version is-current" href="CRDs.html">1.16</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/rancher/kubewarden-product-docs/edit/main/docs/version-1.16/modules/en/pages/reference/CRDs.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Custom Resource Definitions (CRD)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can find the definitions for the Kubewarden Custom Resources both on this page and
<a href="https://doc.crds.dev/github.com/kubewarden/kubewarden-controller">here at docs.crds.dev</a>.</p>
</div>
</div>
</div>
<h1 id="_api_reference" class="sect0"><a class="anchor" href="#_api_reference"></a>API Reference</h1>
<div class="sect1">
<h2 id="_packages"><a class="anchor" href="#_packages"></a>Packages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#_policies_kubewarden_iov1">policies.kubewarden.io/v1</a></p>
</li>
<li>
<p><a href="#_policies_kubewarden_iov1alpha2">policies.kubewarden.io/v1alpha2</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_policies_kubewarden_iov1"><a class="anchor" href="#_policies_kubewarden_iov1"></a>policies.kubewarden.io/v1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Package v1 contains API Schema definitions for the policies v1 API group</p>
</div>
<div class="sect2">
<h3 id="_resource_types"><a class="anchor" href="#_resource_types"></a>Resource Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicy">AdmissionPolicy</a></p>
</li>
<li>
<p><a href="#_admissionpolicylist">AdmissionPolicyList</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicy">ClusterAdmissionPolicy</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicylist">ClusterAdmissionPolicyList</a></p>
</li>
<li>
<p><a href="#_policyserver">PolicyServer</a></p>
</li>
<li>
<p><a href="#_policyserverlist">PolicyServerList</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_admissionpolicy"><a class="anchor" href="#_admissionpolicy"></a>AdmissionPolicy</h4>
<div class="paragraph">
<p>AdmissionPolicy is the Schema for the admissionpolicies API</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicylist">AdmissionPolicyList</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AdmissionPolicy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta">ObjectMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code> <em><a href="#_admissionpolicyspec">AdmissionPolicySpec</a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_admissionpolicylist"><a class="anchor" href="#_admissionpolicylist"></a>AdmissionPolicyList</h4>
<div class="paragraph">
<p>AdmissionPolicyList contains a list of AdmissionPolicy.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AdmissionPolicyList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#listmeta-v1-meta">ListMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>items</code> <em><a href="#_admissionpolicy">AdmissionPolicy</a> array</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_admissionpolicyspec"><a class="anchor" href="#_admissionpolicyspec"></a>AdmissionPolicySpec</h4>
<div class="paragraph">
<p>AdmissionPolicySpec defines the desired state of AdmissionPolicy.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicy">AdmissionPolicy</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policyServer</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PolicyServer identifies an existing PolicyServer resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module is the location of the WASM module to be loaded. Can be a local file (file://), a remote file served by an HTTP server (http://, https://), or an artifact served by an OCI-compatible registry (registry://). If prefix is missing, it will default to registry:// and use that internally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code> <em><a href="#_policymode">PolicyMode</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode defines the execution mode of this policy. Can be set to either "protect" or "monitor". If it&#8217;s empty, it is defaulted to "protect". Transitioning this setting from "monitor" to "protect" is allowed, but is disallowed to transition from "protect" to "monitor". To perform this transition, the policy should be recreated in "monitor" mode instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>settings</code> <em><a href="#_rawextension">RawExtension</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings is a free-form object that contains the policy configuration values. x-kubernetes-embedded-resource: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rules</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#rulewithoperations-v1-admissionregistration">RuleWithOperations</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failurePolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#failurepolicytype-v1-admissionregistration">FailurePolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FailurePolicy defines how unrecognized errors and timeout errors from the policy are handled. Allowed values are "Ignore" or "Fail". * "Ignore" means that an error calling the webhook is ignored and the API request is allowed to continue. * "Fail" means that an error calling the webhook causes the admission to fail and the API request to be rejected. The default behaviour is "Fail"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutating</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutating indicates whether a policy has the ability to mutate incoming requests or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backgroundAudit</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BackgroundAudit indicates whether a policy should be used or skipped when performing audit checks. If false, the policy cannot produce meaningful evaluation results during audit checks and will be skipped. The default is "true".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchPolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchpolicytype-v1-admissionregistration">MatchPolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent". &lt;ul&gt; &lt;li&gt; Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook. &lt;/li&gt; &lt;li&gt; Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook. &lt;/li&gt; &lt;/ul&gt; Defaults to "Equivalent"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchConditions</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchcondition-v1-admissionregistration">MatchCondition</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MatchConditions are a list of conditions that must be met for a request to be validated. Match conditions filter requests that have already been matched by the rules, namespaceSelector, and objectSelector. An empty list of matchConditions matches all requests. There are a maximum of 64 match conditions allowed. If a parameter object is provided, it can be accessed via the <code>params</code> handle in the same manner as validation expressions. The exact matching logic is (in order): 1. If ANY matchCondition evaluates to FALSE, the policy is skipped. 2. If ALL matchConditions evaluate to TRUE, the policy is evaluated. 3. If any matchCondition evaluates to an error (but none are FALSE): - If failurePolicy=Fail, reject the request - If failurePolicy=Ignore, the policy is skipped. Only available if the feature gate AdmissionWebhookMatchConditions is enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sideEffects</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#sideeffectclass-v1-admissionregistration">SideEffectClass</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission change and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutSeconds</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusteradmissionpolicy"><a class="anchor" href="#_clusteradmissionpolicy"></a>ClusterAdmissionPolicy</h4>
<div class="paragraph">
<p>ClusterAdmissionPolicy is the Schema for the clusteradmissionpolicies API</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_clusteradmissionpolicylist">ClusterAdmissionPolicyList</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterAdmissionPolicy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta">ObjectMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code> <em><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusteradmissionpolicylist"><a class="anchor" href="#_clusteradmissionpolicylist"></a>ClusterAdmissionPolicyList</h4>
<div class="paragraph">
<p>ClusterAdmissionPolicyList contains a list of ClusterAdmissionPolicy</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterAdmissionPolicyList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#listmeta-v1-meta">ListMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>items</code> <em><a href="#_clusteradmissionpolicy">ClusterAdmissionPolicy</a> array</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusteradmissionpolicyspec"><a class="anchor" href="#_clusteradmissionpolicyspec"></a>ClusterAdmissionPolicySpec</h4>
<div class="paragraph">
<p>ClusterAdmissionPolicySpec defines the desired state of ClusterAdmissionPolicy.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_clusteradmissionpolicy">ClusterAdmissionPolicy</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policyServer</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PolicyServer identifies an existing PolicyServer resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module is the location of the WASM module to be loaded. Can be a local file (file://), a remote file served by an HTTP server (http://, https://), or an artifact served by an OCI-compatible registry (registry://). If prefix is missing, it will default to registry:// and use that internally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code> <em><a href="#_policymode">PolicyMode</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode defines the execution mode of this policy. Can be set to either "protect" or "monitor". If it&#8217;s empty, it is defaulted to "protect". Transitioning this setting from "monitor" to "protect" is allowed, but is disallowed to transition from "protect" to "monitor". To perform this transition, the policy should be recreated in "monitor" mode instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>settings</code> <em><a href="#_rawextension">RawExtension</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings is a free-form object that contains the policy configuration values. x-kubernetes-embedded-resource: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rules</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#rulewithoperations-v1-admissionregistration">RuleWithOperations</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failurePolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#failurepolicytype-v1-admissionregistration">FailurePolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FailurePolicy defines how unrecognized errors and timeout errors from the policy are handled. Allowed values are "Ignore" or "Fail". * "Ignore" means that an error calling the webhook is ignored and the API request is allowed to continue. * "Fail" means that an error calling the webhook causes the admission to fail and the API request to be rejected. The default behaviour is "Fail"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutating</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutating indicates whether a policy has the ability to mutate incoming requests or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backgroundAudit</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BackgroundAudit indicates whether a policy should be used or skipped when performing audit checks. If false, the policy cannot produce meaningful evaluation results during audit checks and will be skipped. The default is "true".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchPolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchpolicytype-v1-admissionregistration">MatchPolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent". &lt;ul&gt; &lt;li&gt; Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook. &lt;/li&gt; &lt;li&gt; Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook. &lt;/li&gt; &lt;/ul&gt; Defaults to "Equivalent"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchConditions</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchcondition-v1-admissionregistration">MatchCondition</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MatchConditions are a list of conditions that must be met for a request to be validated. Match conditions filter requests that have already been matched by the rules, namespaceSelector, and objectSelector. An empty list of matchConditions matches all requests. There are a maximum of 64 match conditions allowed. If a parameter object is provided, it can be accessed via the <code>params</code> handle in the same manner as validation expressions. The exact matching logic is (in order): 1. If ANY matchCondition evaluates to FALSE, the policy is skipped. 2. If ALL matchConditions evaluate to TRUE, the policy is evaluated. 3. If any matchCondition evaluates to an error (but none are FALSE): - If failurePolicy=Fail, reject the request - If failurePolicy=Ignore, the policy is skipped. Only available if the feature gate AdmissionWebhookMatchConditions is enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sideEffects</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#sideeffectclass-v1-admissionregistration">SideEffectClass</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission change and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutSeconds</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespaceSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NamespaceSelector decides whether to run the webhook on an object based on whether the namespace for that object matches the selector. If the object itself is a namespace, the matching is performed on object.metadata.labels. If the object is another cluster scoped resource, it never skips the webhook.<br>
<br>
For example, to run the webhook on any objects whose namespace is not associated with "runlevel" of "0" or "1";  you will set the selector as follows: &lt;pre&gt; "namespaceSelector": {<br>
&nbsp;&nbsp;"matchExpressions": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"key": "runlevel",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"operator": "NotIn",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"values": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"0",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"1"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;]<br>
} &lt;/pre&gt; If instead you want to only run the webhook on any objects whose namespace is associated with the "environment" of "prod" or "staging"; you will set the selector as follows: &lt;pre&gt; "namespaceSelector": {<br>
&nbsp;&nbsp;"matchExpressions": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"key": "environment",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"operator": "In",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"values": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"prod",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"staging"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;]<br>
} &lt;/pre&gt; See <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels" class="bare">https://kubernetes.io/docs/concepts/overview/working-with-objects/labels</a> for more examples of label selectors.<br>
<br>
Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contextAwareResources</code> <em><a href="#_contextawareresource">ContextAwareResource</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of Kubernetes resources the policy is allowed to access at evaluation time. Access to these resources is done using the <code>ServiceAccount</code> of the PolicyServer the policy is assigned to.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_contextawareresource"><a class="anchor" href="#_contextawareresource"></a>ContextAwareResource</h4>
<div class="paragraph">
<p>ContextAwareResource identifies a Kubernetes resource.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">apiVersion of the resource (v1 for core group, groupName/groupVersions for other).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Singular PascalCase name of the resource</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policymode"><a class="anchor" href="#_policymode"></a>PolicyMode</h4>
<div class="paragraph">
<p><em>Underlying type:</em> <code>string</code></p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicyspec">AdmissionPolicySpec</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></p>
</li>
<li>
<p><a href="#_policyspec">PolicySpec</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_policymodestatus"><a class="anchor" href="#_policymodestatus"></a>PolicyModeStatus</h4>
<div class="paragraph">
<p><em>Underlying type:</em> <code>string</code></p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policystatus">PolicyStatus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_policyserver"><a class="anchor" href="#_policyserver"></a>PolicyServer</h4>
<div class="paragraph">
<p>PolicyServer is the Schema for the policyservers API.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policyserverlist">PolicyServerList</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PolicyServer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta">ObjectMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code> <em><a href="#_policyserverspec">PolicyServerSpec</a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyserverlist"><a class="anchor" href="#_policyserverlist"></a>PolicyServerList</h4>
<div class="paragraph">
<p>PolicyServerList contains a list of PolicyServer.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PolicyServerList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#listmeta-v1-meta">ListMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>items</code> <em><a href="#_policyserver">PolicyServer</a> array</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyserversecurity"><a class="anchor" href="#_policyserversecurity"></a>PolicyServerSecurity</h4>
<div class="paragraph">
<p>PolicyServerSecurity defines securityContext configuration to be used in the Policy Server workload.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policyserverspec">PolicyServerSpec</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#securitycontext-v1-core">SecurityContext</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">securityContext definition to be used in the policy server container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pod</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#podsecuritycontext-v1-core">PodSecurityContext</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">podSecurityContext definition to be used in the policy server Pod</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyserverspec"><a class="anchor" href="#_policyserverspec"></a>PolicyServerSpec</h4>
<div class="paragraph">
<p>PolicyServerSpec defines the desired state of PolicyServer.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policyserver">PolicyServer</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>image</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker image name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replicas</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replicas is the number of desired replicas.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minAvailable</code> <em>IntOrString</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of policy server replicas that must be still available after the eviction. The value can be an absolute number or a percentage. Only one of MinAvailable or Max MaxUnavailable can be set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxUnavailable</code> <em>IntOrString</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of policy server replicas that can be unavailable after the eviction. The value can be an absolute number or a percentage. Only one of MinAvailable or Max MaxUnavailable can be set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>annotations</code> <em>object (keys:string, values:string)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: <a href="http://kubernetes.io/docs/user-guide/annotations" class="bare">http://kubernetes.io/docs/user-guide/annotations</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>env</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#envvar-v1-core">EnvVar</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of environment variables to set in the container.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>serviceAccountName</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the service account associated with the policy server. Namespace service account will be used if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imagePullSecret</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of ImagePullSecret secret in the same namespace, used for pulling policies from repositories.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>insecureSources</code> <em>string array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of insecure URIs to policy repositories. The <code>insecureSources</code> content format corresponds with the contents of the <code>insecure_sources</code> key in <code>sources.yaml</code>. Reference for <code>sources.yaml</code> is found in the Kubewarden documentation in the reference section.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceAuthorities</code> <em>object (keys:string, values:string array)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key value map of registry URIs endpoints to a list of their associated PEM encoded certificate authorities that have to be used to verify the certificate used by the endpoint. The <code>sourceAuthorities</code> content format corresponds with the contents of the <code>source_authorities</code> key in <code>sources.yaml</code>. Reference for <code>sources.yaml</code> is found in the Kubewarden documentation in the reference section.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verificationConfig</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of VerificationConfig configmap in the same namespace, containing Sigstore verification configuration. The configuration must be under a key named verification-config in the Configmap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>securityContexts</code> <em><a href="#_policyserversecurity">PolicyServerSecurity</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security configuration to be used in the Policy Server workload. The field allows different configurations for the pod and containers. If set for the containers, this configuration will not be used in containers added by other controllers (e.g. telemetry sidecars)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>affinity</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#affinity-v1-core">Affinity</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Affinity rules for the associated Policy Server pods.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>limits</code> <em>object (keys:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#resourcename-v1-core[ResourceName], values:Quantity)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limits describes the maximum amount of compute resources allowed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>requests</code> <em>object (keys:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#resourcename-v1-core[ResourceName], values:Quantity)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests describes the minimum amount of compute resources required. If Request is omitted for, it defaults to Limits if that is explicitly specified, otherwise to an implementation-defined value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tolerations</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#toleration-v1-core">Toleration</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tolerations describe the policy server pod&#8217;s tolerations. It can be used to ensure that the policy server pod is not scheduled onto a node with a taint.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyspec"><a class="anchor" href="#_policyspec"></a>PolicySpec</h4>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicyspec">AdmissionPolicySpec</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policyServer</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PolicyServer identifies an existing PolicyServer resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module is the location of the WASM module to be loaded. Can be a local file (file://), a remote file served by an HTTP server (http://, https://), or an artifact served by an OCI-compatible registry (registry://). If prefix is missing, it will default to registry:// and use that internally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code> <em><a href="#_policymode">PolicyMode</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode defines the execution mode of this policy. Can be set to either "protect" or "monitor". If it&#8217;s empty, it is defaulted to "protect". Transitioning this setting from "monitor" to "protect" is allowed, but is disallowed to transition from "protect" to "monitor". To perform this transition, the policy should be recreated in "monitor" mode instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>settings</code> <em><a href="#_rawextension">RawExtension</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings is a free-form object that contains the policy configuration values. x-kubernetes-embedded-resource: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rules</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#rulewithoperations-v1-admissionregistration">RuleWithOperations</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failurePolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#failurepolicytype-v1-admissionregistration">FailurePolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FailurePolicy defines how unrecognized errors and timeout errors from the policy are handled. Allowed values are "Ignore" or "Fail". * "Ignore" means that an error calling the webhook is ignored and the API request is allowed to continue. * "Fail" means that an error calling the webhook causes the admission to fail and the API request to be rejected. The default behaviour is "Fail"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutating</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutating indicates whether a policy has the ability to mutate incoming requests or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backgroundAudit</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BackgroundAudit indicates whether a policy should be used or skipped when performing audit checks. If false, the policy cannot produce meaningful evaluation results during audit checks and will be skipped. The default is "true".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchPolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchpolicytype-v1-admissionregistration">MatchPolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent". &lt;ul&gt; &lt;li&gt; Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook. &lt;/li&gt; &lt;li&gt; Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook. &lt;/li&gt; &lt;/ul&gt; Defaults to "Equivalent"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchConditions</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchcondition-v1-admissionregistration">MatchCondition</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MatchConditions are a list of conditions that must be met for a request to be validated. Match conditions filter requests that have already been matched by the rules, namespaceSelector, and objectSelector. An empty list of matchConditions matches all requests. There are a maximum of 64 match conditions allowed. If a parameter object is provided, it can be accessed via the <code>params</code> handle in the same manner as validation expressions. The exact matching logic is (in order): 1. If ANY matchCondition evaluates to FALSE, the policy is skipped. 2. If ALL matchConditions evaluate to TRUE, the policy is evaluated. 3. If any matchCondition evaluates to an error (but none are FALSE): - If failurePolicy=Fail, reject the request - If failurePolicy=Ignore, the policy is skipped. Only available if the feature gate AdmissionWebhookMatchConditions is enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sideEffects</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#sideeffectclass-v1-admissionregistration">SideEffectClass</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission change and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutSeconds</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policystatusenum"><a class="anchor" href="#_policystatusenum"></a>PolicyStatusEnum</h4>
<div class="paragraph">
<p><em>Underlying type:</em> <code>string</code></p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policystatus">PolicyStatus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_policies_kubewarden_iov1alpha2"><a class="anchor" href="#_policies_kubewarden_iov1alpha2"></a>policies.kubewarden.io/v1alpha2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Package v1alpha2 contains API Schema definitions for the policies v1alpha2 API group</p>
</div>
<div class="sect2">
<h3 id="_resource_types_2"><a class="anchor" href="#_resource_types_2"></a>Resource Types</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicy">AdmissionPolicy</a></p>
</li>
<li>
<p><a href="#_admissionpolicylist">AdmissionPolicyList</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicy">ClusterAdmissionPolicy</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicylist">ClusterAdmissionPolicyList</a></p>
</li>
<li>
<p><a href="#_policyserver">PolicyServer</a></p>
</li>
<li>
<p><a href="#_policyserverlist">PolicyServerList</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_admissionpolicy_2"><a class="anchor" href="#_admissionpolicy_2"></a>AdmissionPolicy</h4>
<div class="paragraph">
<p>AdmissionPolicy is the Schema for the admissionpolicies API</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicylist">AdmissionPolicyList</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1alpha2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AdmissionPolicy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta">ObjectMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code> <em><a href="#_admissionpolicyspec">AdmissionPolicySpec</a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_admissionpolicylist_2"><a class="anchor" href="#_admissionpolicylist_2"></a>AdmissionPolicyList</h4>
<div class="paragraph">
<p>AdmissionPolicyList contains a list of AdmissionPolicy.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1alpha2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AdmissionPolicyList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#listmeta-v1-meta">ListMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>items</code> <em><a href="#_admissionpolicy">AdmissionPolicy</a> array</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_admissionpolicyspec_2"><a class="anchor" href="#_admissionpolicyspec_2"></a>AdmissionPolicySpec</h4>
<div class="paragraph">
<p>AdmissionPolicySpec defines the desired state of AdmissionPolicy.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicy">AdmissionPolicy</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policyServer</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PolicyServer identifies an existing PolicyServer resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module is the location of the WASM module to be loaded. Can be a local file (file://), a remote file served by an HTTP server (http://, https://), or an artifact served by an OCI-compatible registry (registry://).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code> <em><a href="#_policymode">PolicyMode</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode defines the execution mode of this policy. Can be set to either "protect" or "monitor". If it&#8217;s empty, it is defaulted to "protect". Transitioning this setting from "monitor" to "protect" is allowed, but is disallowed to transition from "protect" to "monitor". To perform this transition, the policy should be recreated in "monitor" mode instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>settings</code> <em><a href="#_rawextension">RawExtension</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings is a free-form object that contains the policy configuration values. x-kubernetes-embedded-resource: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rules</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#rulewithoperations-v1-admissionregistration">RuleWithOperations</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failurePolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#failurepolicytype-v1-admissionregistration">FailurePolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FailurePolicy defines how unrecognized errors and timeout errors from the policy are handled. Allowed values are "Ignore" or "Fail". * "Ignore" means that an error calling the webhook is ignored and the API request is allowed to continue. * "Fail" means that an error calling the webhook causes the admission to fail and the API request to be rejected. The default behaviour is "Fail"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutating</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutating indicates whether a policy has the ability to mutate incoming requests or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchPolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchpolicytype-v1-admissionregistration">MatchPolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent". &lt;ul&gt; &lt;li&gt; Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook. &lt;/li&gt; &lt;li&gt; Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook. &lt;/li&gt; &lt;/ul&gt; Defaults to "Equivalent"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sideEffects</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#sideeffectclass-v1-admissionregistration">SideEffectClass</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission change and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutSeconds</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusteradmissionpolicy_2"><a class="anchor" href="#_clusteradmissionpolicy_2"></a>ClusterAdmissionPolicy</h4>
<div class="paragraph">
<p>ClusterAdmissionPolicy is the Schema for the clusteradmissionpolicies API</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_clusteradmissionpolicylist">ClusterAdmissionPolicyList</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1alpha2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterAdmissionPolicy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta">ObjectMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code> <em><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusteradmissionpolicylist_2"><a class="anchor" href="#_clusteradmissionpolicylist_2"></a>ClusterAdmissionPolicyList</h4>
<div class="paragraph">
<p>ClusterAdmissionPolicyList contains a list of ClusterAdmissionPolicy</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1alpha2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterAdmissionPolicyList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#listmeta-v1-meta">ListMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>items</code> <em><a href="#_clusteradmissionpolicy">ClusterAdmissionPolicy</a> array</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_clusteradmissionpolicyspec_2"><a class="anchor" href="#_clusteradmissionpolicyspec_2"></a>ClusterAdmissionPolicySpec</h4>
<div class="paragraph">
<p>ClusterAdmissionPolicySpec defines the desired state of ClusterAdmissionPolicy.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_clusteradmissionpolicy">ClusterAdmissionPolicy</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policyServer</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PolicyServer identifies an existing PolicyServer resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module is the location of the WASM module to be loaded. Can be a local file (file://), a remote file served by an HTTP server (http://, https://), or an artifact served by an OCI-compatible registry (registry://).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code> <em><a href="#_policymode">PolicyMode</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode defines the execution mode of this policy. Can be set to either "protect" or "monitor". If it&#8217;s empty, it is defaulted to "protect". Transitioning this setting from "monitor" to "protect" is allowed, but is disallowed to transition from "protect" to "monitor". To perform this transition, the policy should be recreated in "monitor" mode instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>settings</code> <em><a href="#_rawextension">RawExtension</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings is a free-form object that contains the policy configuration values. x-kubernetes-embedded-resource: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rules</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#rulewithoperations-v1-admissionregistration">RuleWithOperations</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failurePolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#failurepolicytype-v1-admissionregistration">FailurePolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FailurePolicy defines how unrecognized errors and timeout errors from the policy are handled. Allowed values are "Ignore" or "Fail". * "Ignore" means that an error calling the webhook is ignored and the API request is allowed to continue. * "Fail" means that an error calling the webhook causes the admission to fail and the API request to be rejected. The default behaviour is "Fail"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutating</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutating indicates whether a policy has the ability to mutate incoming requests or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchPolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchpolicytype-v1-admissionregistration">MatchPolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent". &lt;ul&gt; &lt;li&gt; Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook. &lt;/li&gt; &lt;li&gt; Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook. &lt;/li&gt; &lt;/ul&gt; Defaults to "Equivalent"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sideEffects</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#sideeffectclass-v1-admissionregistration">SideEffectClass</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission change and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutSeconds</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespaceSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NamespaceSelector decides whether to run the webhook on an object based on whether the namespace for that object matches the selector. If the object itself is a namespace, the matching is performed on object.metadata.labels. If the object is another cluster scoped resource, it never skips the webhook.<br>
<br>
For example, to run the webhook on any objects whose namespace is not associated with "runlevel" of "0" or "1";  you will set the selector as follows: &lt;pre&gt; "namespaceSelector": {<br>
&nbsp;&nbsp;"matchExpressions": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"key": "runlevel",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"operator": "NotIn",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"values": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"0",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"1"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;]<br>
} &lt;/pre&gt; If instead you want to only run the webhook on any objects whose namespace is associated with the "environment" of "prod" or "staging"; you will set the selector as follows: &lt;pre&gt; "namespaceSelector": {<br>
&nbsp;&nbsp;"matchExpressions": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"key": "environment",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"operator": "In",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"values": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"prod",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"staging"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;]<br>
} &lt;/pre&gt; See <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels" class="bare">https://kubernetes.io/docs/concepts/overview/working-with-objects/labels</a> for more examples of label selectors.<br>
<br>
Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policymode_2"><a class="anchor" href="#_policymode_2"></a>PolicyMode</h4>
<div class="paragraph">
<p><em>Underlying type:</em> <code>string</code></p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicyspec">AdmissionPolicySpec</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></p>
</li>
<li>
<p><a href="#_policyspec">PolicySpec</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_policymodestatus_2"><a class="anchor" href="#_policymodestatus_2"></a>PolicyModeStatus</h4>
<div class="paragraph">
<p><em>Underlying type:</em> <code>string</code></p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policystatus">PolicyStatus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_policyserver_2"><a class="anchor" href="#_policyserver_2"></a>PolicyServer</h4>
<div class="paragraph">
<p>PolicyServer is the Schema for the policyservers API.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policyserverlist">PolicyServerList</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1alpha2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PolicyServer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta">ObjectMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec</code> <em><a href="#_policyserverspec">PolicyServerSpec</a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyserverlist_2"><a class="anchor" href="#_policyserverlist_2"></a>PolicyServerList</h4>
<div class="paragraph">
<p>PolicyServerList contains a list of PolicyServer.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policies.kubewarden.io/v1alpha2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PolicyServerList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#listmeta-v1-meta">ListMeta</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to Kubernetes API documentation for fields of <code>metadata</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>items</code> <em><a href="#_policyserver">PolicyServer</a> array</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyserverspec_2"><a class="anchor" href="#_policyserverspec_2"></a>PolicyServerSpec</h4>
<div class="paragraph">
<p>PolicyServerSpec defines the desired state of PolicyServer.</p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policyserver">PolicyServer</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>image</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker image name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replicas</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replicas is the number of desired replicas.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>annotations</code> <em>object (keys:string, values:string)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: <a href="http://kubernetes.io/docs/user-guide/annotations" class="bare">http://kubernetes.io/docs/user-guide/annotations</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>env</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#envvar-v1-core">EnvVar</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of environment variables to set in the container.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>serviceAccountName</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the service account associated with the policy server. Namespace service account will be used if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imagePullSecret</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of ImagePullSecret secret in the same namespace, used for pulling policies from repositories.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>insecureSources</code> <em>string array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of insecure URIs to policy repositories. The <code>insecureSources</code> content format corresponds with the contents of the <code>insecure_sources</code> key in <code>sources.yaml</code>. Reference for <code>sources.yaml</code> is found in the Kubewarden documentation in the reference section.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceAuthorities</code> <em>object (keys:string, values:string array)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key value map of registry URIs endpoints to a list of their associated PEM encoded certificate authorities that have to be used to verify the certificate used by the endpoint. The <code>sourceAuthorities</code> content format corresponds with the contents of the <code>source_authorities</code> key in <code>sources.yaml</code>. Reference for <code>sources.yaml</code> is found in the Kubewarden documentation in the reference section.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verificationConfig</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of VerificationConfig configmap in the same namespace, containing Sigstore verification configuration. The configuration must be under a key named verification-config in the Configmap.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policyspec_2"><a class="anchor" href="#_policyspec_2"></a>PolicySpec</h4>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_admissionpolicyspec">AdmissionPolicySpec</a></p>
</li>
<li>
<p><a href="#_clusteradmissionpolicyspec">ClusterAdmissionPolicySpec</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policyServer</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PolicyServer identifies an existing PolicyServer resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module</code> <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module is the location of the WASM module to be loaded. Can be a local file (file://), a remote file served by an HTTP server (http://, https://), or an artifact served by an OCI-compatible registry (registry://).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code> <em><a href="#_policymode">PolicyMode</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode defines the execution mode of this policy. Can be set to either "protect" or "monitor". If it&#8217;s empty, it is defaulted to "protect". Transitioning this setting from "monitor" to "protect" is allowed, but is disallowed to transition from "protect" to "monitor". To perform this transition, the policy should be recreated in "monitor" mode instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>settings</code> <em><a href="#_rawextension">RawExtension</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings is a free-form object that contains the policy configuration values. x-kubernetes-embedded-resource: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rules</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#rulewithoperations-v1-admissionregistration">RuleWithOperations</a> array</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failurePolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#failurepolicytype-v1-admissionregistration">FailurePolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FailurePolicy defines how unrecognized errors and timeout errors from the policy are handled. Allowed values are "Ignore" or "Fail". * "Ignore" means that an error calling the webhook is ignored and the API request is allowed to continue. * "Fail" means that an error calling the webhook causes the admission to fail and the API request to be rejected. The default behaviour is "Fail"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutating</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutating indicates whether a policy has the ability to mutate incoming requests or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matchPolicy</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#matchpolicytype-v1-admissionregistration">MatchPolicyType</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent". &lt;ul&gt; &lt;li&gt; Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook. &lt;/li&gt; &lt;li&gt; Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook. &lt;/li&gt; &lt;/ul&gt; Defaults to "Equivalent"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectSelector</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#labelselector-v1-meta">LabelSelector</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sideEffects</code> <em><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#sideeffectclass-v1-admissionregistration">SideEffectClass</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission change and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutSeconds</code> <em>integer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_policystatusenum_2"><a class="anchor" href="#_policystatusenum_2"></a>PolicyStatusEnum</h4>
<div class="paragraph">
<p><em>Underlying type:</em> <code>string</code></p>
</div>
<div class="paragraph">
<p><em>Appears in:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_policystatus">PolicyStatus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../howtos/contribution-guide/suggesting-an-improvement.html">Suggesting a doc improvement</a></span>
  <span class="next"><a href="dependency-matrix.html">Dependency matrix</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
<script src="../../../../_/js/vendor/langSelection.js"></script>
<script async src="../../../../_/js/vendor/tabs.js"></script>


  </body>
</html>
