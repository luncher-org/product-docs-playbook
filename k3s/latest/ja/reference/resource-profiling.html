<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>リソースプロファイリング :: Rancher product documentation</title>
    <link rel="canonical" href="https://documentation.suse.com/cloudnative/k3s/latest/ja/reference/resource-profiling.html">
    <link rel="prev" href="flag-deprecation.html">
    <link rel="next" href="../release-notes/v1.32.X.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="../../../../_/css/search.css">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../../../_/css/font-styles.css">
<link rel="stylesheet" href="../../../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap" rel="stylesheet">
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../../../_/css/vendor/light.css">
<!-- <script src="/docserv/res/lightheaded/analytics.js"
        type="text/javascript"></script> -->
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a class=" navbar-logo" href="https://documentation.suse.com/" aria-label="SUSE Documentation Home"><img class="logo"
            src="../../../../_/img/logo.svg" alt="SUSE logo"/></a>
      </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label class="visual-search-label" for="search-input">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
          <input label="Search" aria-label="Search" id="search-input" type="text" placeholder="Search the docs" >
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">
            <img src="../../../../_/img/resources.png" class="langIcon Resurces" alt="Resources" title="Resources">
          </div>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rancher/k3s-product-docs"><i class="fab fa-github"></i>&nbsp;K3s</a>
            <div class="has-submenu">
              <a class="navbar-item" href="#" ><i class="fas fa-file-alt"></i>&nbsp;Report Issue &nbsp;<i class="fas fa-chevron-right"></i></a>
              <div class="submenu">
                <a class="navbar-item" href="https://scc.suse.com">SCC (Recommended)</a>
                <a class="navbar-item" href="https://github.com/rancher/k3s-product-docs/issues">GitHub Issue</a>
              </div>
            </div>
            <a class="navbar-item" href="https://github.com/rancher/product-docs-playbook/blob/main/CONTRIBUTING.md"><i class="fas fa-user-edit"></i>&nbsp;Contribute</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link"><img src="../../../../_/img/language.png" class="langIcon Language" alt="Language"
              title="Language"></div>
          <div class="navbar-dropdown">
            <!--  </div><div>Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div> -->
              <a role="button" class="navbar-item" id="en" onclick="selectLanguage(this.id)">
                <!--<img src="../../../../_/img/engFlag.svg" class="langIcon english">-->
                &nbsp;English
              </a>
              <a role="button" class="navbar-item" id="zh" onclick="selectLanguage(this.id)">
                <!--<img src="../../../../_/img/china.svg" class="langIcon china">-->
                &nbsp;中文
              </a>
              <a role="button" class="navbar-item" id="ko" onclick="selectLanguage(this.id)">
                <!--<img src="../../../../_/img/koFlag.svg" class="langIcon korea">-->
                &nbsp;한국어
              </a>
              <a role="button" class="navbar-item" id="ja" onclick="selectLanguage(this.id)">
                <!--<img src="../../../../_/img/jaFlag.svg" class="langIcon japan">-->
                &nbsp;日本語
              </a>
            <!-- LANGUAGESELECTOR -->
          </div>
        </div>
        <!--
        <div class="navbar-item">
          <a href="https://twitter.com/SUSE">
            <img alt="X-logo" class="x-logo" src="../../../../_/img/x-logo-white.png">
          </a>
        </div>
        -->
      </div>
    </div>

    <!--   <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div> -->
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="k3s" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../en/introduction.html">K3s</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">K3s - 軽量なKubernetes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../quick-start.html">クイックスタートガイド</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../installation/installation.html">インストール</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/requirements.html">要件</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/configuration.html">設定オプション</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/private-registry.html">プライベートレジストリの設定</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/registry-mirror.html">埋め込みレジストリミラー</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/airgap.html">エアギャップインストール</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/server-roles.html">サーバーロールの管理</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/packaged-components.html">パッケージ化されたコンポーネントの管理</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/uninstall.html">K3sのアンインストール</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../datastore/datastore.html">クラスタデータストア</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../datastore/backup-restore.html">バックアップとリストア</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../datastore/ha-embedded.html">高可用性組み込みetcd</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../datastore/ha.html">高可用性外部データベース</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../datastore/cluster-loadbalancer.html">クラスター・ロードバランサー</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../upgrades/upgrades.html">アップグレード</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrades/killall.html">K3sの停止</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrades/manual.html">手動アップグレード</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrades/automated.html">自動アップグレード</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../security/security.html">セキュリティ</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/secrets-encryption.html">secretの暗号化設定</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/hardening-guide.html">CIS ハードニングガイド</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/self-assessment-1.8.html">CIS 1.8 セルフアセスメントガイド</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/self-assessment-1.7.html">CIS 1.7 セルフアセスメントガイド</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/self-assessment-1.24.html">CIS 1.24 自己評価ガイド</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../cli/cli.html">CLIツール</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/server.html">server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/agent.html">k3s エージェント</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/certificate.html">certificate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/etcd-snapshot.html">etcd-snapshot</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/secrets-encrypt.html">secrets-encrypt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/token.html">token</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../architecture.html">アーキテクチャ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cluster-access.html">クラスターアクセス</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../storage.html">ボリュームとストレージ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../networking/networking.html">ネットワーキング</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../networking/basic-network-options.html">基本的なネットワークオプション</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../networking/distributed-multicloud.html">分散型ハイブリッドまたはマルチクラウドクラスター</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../networking/multus-ipams.html">Multus and IPAM plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../networking/networking-services.html">ネットワーキングサービス</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../helm.html">Helm</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../advanced.html">高度なオプション / 設定</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="env-variables.html">環境変数</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="flag-deprecation.html">フラグの非推奨化</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="resource-profiling.html">リソースプロファイリング</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Release Notes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.32.X.html">v1.32.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.31.X.html">v1.31.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.30.X.html">v1.30.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.29.X.html">v1.29.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.28.X.html">v1.28.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.27.X.html">v1.27.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.26.X.html">v1.26.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.25.X.html">v1.25.X</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes/v1.24.X.html">v1.24.X</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../related-projects.html">関連プロジェクト</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../known-issues.html">既知の問題</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../faq.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">K3s</span>
    <span class="version">Latest</span>
  </div>
  <ul class="components">
        <li class="component">
          <div class="title"><a href="../../../../cluster-api/v0.16/en/index.html">Cluster API</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../cluster-api/v0.16/en/index.html">0.16</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.15/en/index.html">0.15</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.14/en/index.html">0.14</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.13/en/index.html">0.13</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.11/en/index.html">0.11</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../continuous-delivery/v0.11/en/index.html">Continuous Delivery</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../continuous-delivery/v0.11/en/index.html">0.11</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.10/en/index.html">0.10</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.9/en/index.html">0.9</a>
            </li>
          </ul>
        </li>
        <li class="component is-current">
          <div class="title"><a href="../../en/introduction.html">K3s</a></div>
          <ul class="versions">
            <li class="version is-current is-latest">
              <a href="../../en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../os-manager/1.6/en/index.html">OS Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../os-manager/1.6/en/index.html">1.6</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.5/en/index.html">1.5</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../policy-manager/1.22/en/introduction.html">Policy Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../policy-manager/1.22/en/introduction.html">1.22-next</a>
            </li>
            <li class="version">
              <a href="../../../../policy-manager/1.21/en/introduction.html">1.21</a>
            </li>
            <li class="version">
              <a href="../../../../policy-manager/1.20/en/introduction.html">1.20</a>
            </li>
            <li class="version">
              <a href="../../../../policy-manager/1.19/en/introduction.html">1.19</a>
            </li>
            <li class="version">
              <a href="../../../../policy-manager/1.18/en/introduction.html">1.18</a>
            </li>
            <li class="version">
              <a href="../../../../policy-manager/1.17/en/introduction.html">1.17</a>
            </li>
            <li class="version">
              <a href="../../../../policy-manager/1.16/en/introduction.html">1.16</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rke2/latest/en/introduction.html">RKE2</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rke2/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">SUSE® Rancher Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.10/en/about-rancher/what-is-rancher.html">v2.10</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.9/en/about-rancher/what-is-rancher.html">v2.9</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.8/en/about-rancher/what-is-rancher.html">v2.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../security/5.4/en/overview.html">SUSE® Security</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../security/5.4/en/overview.html">5.4</a>
            </li>
            <li class="version">
              <a href="../../../../security/5.3/en/overview.html">5.3</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../storage/1.9.0/en/longhorn-documentation.html">SUSE® Storage</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../storage/1.9.0/en/longhorn-documentation.html">1.9.0 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../../storage/1.8.0/en/longhorn-documentation.html">1.8.0 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../storage/1.7.0/en/longhorn-documentation.html">1.7.0</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../virtualization/v1.5/en/introduction/overview.html">SUSE® Virtualization</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../virtualization/v1.5/en/introduction/overview.html">v1.5 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.4/en/introduction/overview.html">v1.4 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.3/en/introduction/overview.html">v1.3</a>
            </li>
          </ul>
        </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html" aria-label="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../en/introduction.html">K3s</a></li>
    <li>Reference</li>
    <li><a href="resource-profiling.html">リソースプロファイリング</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/rancher/k3s-product-docs/edit/main/versions/latest/modules/ja/pages/reference/resource-profiling.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">リソースプロファイリング</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>このセクションでは、K3sの最小リソース要件を決定するためのテスト結果を記録します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_minimum_resource_requirements_for_k3s"><a class="anchor" href="#_minimum_resource_requirements_for_k3s"></a>Minimum Resource Requirements for K3s</h2>
<div class="sectionbody">
<div class="paragraph">
<p>結果は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">コンポーネント</th>
<th class="tableblock halign-left valign-top">プロセッサ</th>
<th class="tableblock halign-left valign-top">最小CPU</th>
<th class="tableblock halign-left valign-top">Kine/SQLite使用時の最小RAM</th>
<th class="tableblock halign-left valign-top">組み込みetcd使用時の最小RAM</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ワークロードを持つK3sサーバー</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C CPU, 2.90 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの6%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1596 M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1606 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">単一エージェントを持つK3sクラスター</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C CPU, 2.90 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの5%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1428 M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1450 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">K3sエージェント</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C CPU, 2.90 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの3%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">275 M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">275 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ワークロードを持つK3sサーバー</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B BCM2711, 1.50 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの30%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1588 M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1613 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">単一エージェントを持つK3sクラスター</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B BCM2711, 1.50 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの25%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1215 M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1413 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">K3sエージェント</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B BCM2711, 1.50 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの10%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">268 M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">268 M</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_リソーステストの範囲"><a class="anchor" href="#_リソーステストの範囲"></a>リソーステストの範囲</h3>
<div class="paragraph">
<p>リソーステストは以下の問題文に対処することを目的としています：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>単一ノードクラスターで、実際のワークロードがクラスターにデプロイされることを前提に、K3sスタックサーバースタック全体を実行するために確保すべき正当な最小CPU、メモリ、およびIOPsを決定します。</p>
</li>
<li>
<p>エージェント（ワーカー）ノードで、KubernetesおよびK3sコントロールプレーンコンポーネント（kubeletおよびk3sエージェント）のために確保すべき正当な最小CPU、メモリ、およびIOPsを決定します。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_ベースライン測定に含まれるコンポーネント"><a class="anchor" href="#_ベースライン測定に含まれるコンポーネント"></a>ベースライン測定に含まれるコンポーネント</h3>
<div class="paragraph">
<p>テストされたコンポーネントは以下の通りです：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>すべてのパッケージコンポーネントが有効なK3s v1.26.5</p>
</li>
<li>
<p>Prometheus + Grafanaモニタリングスタック</p>
</li>
<li>
<p><a href="https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/">KubernetesのNginxデプロイメント例</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>これらは、K3sパッケージコンポーネント（Traefik Ingress、Klipper lb、local-path storage）のみを使用し、標準のモニタリングスタック（PrometheusとGrafana）およびGuestbook例アプリを実行する安定したシステムのベースライン数値です。</p>
</div>
<div class="paragraph">
<p>IOPSを含むリソース数値はKubernetesデータストアおよびコントロールプレーンのみのものであり、システムレベルの管理エージェントやログ、コンテナイメージ管理、またはワークロード固有の要件のオーバーヘッドは含まれていません。</p>
</div>
</div>
<div class="sect2">
<h3 id="_方法論"><a class="anchor" href="#_方法論"></a>方法論</h3>
<div class="paragraph">
<p>Prometheus v2.43.0のスタンドアロンインスタンスを使用して、<code>prometheus-node-exporter</code>をapt経由でインストールし、ホストのCPU、メモリ、およびディスクIO統計を収集しました。</p>
</div>
<div class="paragraph">
<p><code>systemd-cgtop</code>を使用して、systemd cgroupレベルのCPUおよびメモリ使用量をスポットチェックしました。<code>system.slice/k3s.service</code>はK3sおよびcontainerdのリソース使用量を追跡し、個々のポッドは<code>kubepods</code>階層下にあります。</p>
</div>
<div class="paragraph">
<p>追加の詳細なK3sメモリ使用量データは、サーバーおよびエージェントプロセスのために統合されたメトリクスサーバーを使用して<code>kubectl top node</code>から収集しました。</p>
</div>
<div class="paragraph">
<p>使用量数値は、記述されたワークロードを実行しているノードの定常状態操作からの95パーセンタイルの読み取り値に基づいています。</p>
</div>
</div>
<div class="sect2">
<h3 id="_環境"><a class="anchor" href="#_環境"></a>環境</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">アーキテクチャ</th>
<th class="tableblock halign-left valign-top">OS</th>
<th class="tableblock halign-left valign-top">システム</th>
<th class="tableblock halign-left valign-top">CPU</th>
<th class="tableblock halign-left valign-top">RAM</th>
<th class="tableblock halign-left valign-top">ディスク</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu 22.04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS c6id.xlarge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel Xeon Platinum 8375C CPU, 4 Core 2.90 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NVME SSD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aarch64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raspberry Pi OS 11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raspberry Pi 4 Model B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCM2711, 4 Core 1.50 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHS-III SDXC</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_ベースラインリソース要件"><a class="anchor" href="#_ベースラインリソース要件"></a>ベースラインリソース要件</h3>
<div class="paragraph">
<p>このセクションでは、基本的なK3s操作のための最小リソース要件を決定するためのテスト結果を記録します。</p>
</div>
<div class="sect3">
<h4 id="_ワークロードを持つk3sサーバー"><a class="anchor" href="#_ワークロードを持つk3sサーバー"></a>ワークロードを持つK3sサーバー</h4>
<div class="paragraph">
<p>これは、K3sサーバーが<a href="https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/">シンプルなワークロード</a>とリソースを共有する単一ノードクラスターの要件です。</p>
</div>
<div class="paragraph">
<p>CPU要件は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">システム</th>
<th class="tableblock halign-left valign-top">CPUコア使用率</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの6%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの30%</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>メモリ要件は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">テストされたデータストア</th>
<th class="tableblock halign-left valign-top">システム</th>
<th class="tableblock halign-left valign-top">メモリ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kine/SQLite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1596 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1588 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">組み込みetcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1606 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1613 M</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>ディスク要件は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">テストされたデータストア</th>
<th class="tableblock halign-left valign-top">IOPS</th>
<th class="tableblock halign-left valign-top">KiB/秒</th>
<th class="tableblock halign-left valign-top">レイテンシ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kine/SQLite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 10 ms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">組み込みetcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">250</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 5 ms</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_単一エージェントを持つk3sクラスター"><a class="anchor" href="#_単一エージェントを持つk3sクラスター"></a>単一エージェントを持つK3sクラスター</h4>
<div class="paragraph">
<p>これは、K3sサーバーノードとK3sエージェントを持つK3sクラスターのベースライン要件ですが、ワークロードはありません。</p>
</div>
<div class="sect4">
<h5 id="_k3sサーバー"><a class="anchor" href="#_k3sサーバー"></a>K3sサーバー</h5>
<div class="paragraph">
<p>CPU要件は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">システム</th>
<th class="tableblock halign-left valign-top">CPUコア使用率</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの5%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの25%</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>メモリ要件は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">テストされたデータストア</th>
<th class="tableblock halign-left valign-top">システム</th>
<th class="tableblock halign-left valign-top">メモリ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kine/SQLite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1428 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1215 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">組み込みetcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1450 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1413 M</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_k3sエージェント"><a class="anchor" href="#_k3sエージェント"></a>K3sエージェント</h5>
<div class="paragraph">
<p>要件は以下の通りです：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">システム</th>
<th class="tableblock halign-left valign-top">CPUコア使用率</th>
<th class="tableblock halign-left valign-top">RAM</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel 8375C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの3%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">275 M</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pi4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コアの5%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">268 M</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_分析主要なリソース利用ドライバー"><a class="anchor" href="#_分析主要なリソース利用ドライバー"></a>分析主要なリソース利用ドライバー</h3>
<div class="paragraph">
<p>K3sサーバーの利用数値は主に、Kubernetesデータストア（kineまたはetcd）、APIサーバー、コントローラーマネージャー、およびスケジューラーのコントロールループのサポートによって駆動されます。また、システムの状態を変更するために必要な管理タスクも含まれます。Kubernetesコントロールプレーンに追加の負荷をかける操作（リソースの作成/変更/削除など）は、一時的な利用のスパイクを引き起こします。Rancherや他のオペレータータイプのアプリケーションなど、Kubernetesデータストアを広範に使用するオペレーターやアプリを使用すると、サーバーのリソース要件が増加します。追加のノードを追加したり、多くのクラスターリソースを作成したりすることで、サーバーのリソース要件が増加します。</p>
</div>
<div class="paragraph">
<p>K3sエージェントの利用数値は主に、コンテナライフサイクル管理コントロールループのサポートによって駆動されます。イメージの管理、ストレージのプロビジョニング、コンテナの作成/破棄を含む操作は、一時的な利用のスパイクを引き起こします。特にイメージのプルは、イメージコンテンツをディスクに解凍するため、通常は高いCPUおよびIO負荷がかかります。可能であれば、ワークロードストレージ（ポッドの一時ストレージおよびボリューム）は、エージェントコンポーネント（/var/lib/rancher/k3s/agent）から分離して、リソースの競合が発生しないようにするべきです。</p>
</div>
</div>
<div class="sect2">
<h3 id="_エージェントとワークロードがクラスターのデータストアに干渉しないようにする方法"><a class="anchor" href="#_エージェントとワークロードがクラスターのデータストアに干渉しないようにする方法"></a>エージェントとワークロードがクラスターのデータストアに干渉しないようにする方法</h3>
<div class="paragraph">
<p>サーバーがワークロードポッドもホストしている環境で実行する場合、エージェントおよびワークロードのIOPSがデータストアに干渉しないように注意する必要があります。</p>
</div>
<div class="paragraph">
<p>これを最も効果的に達成する方法は、サーバーコンポーネント（/var/lib/rancher/k3s/server）をエージェントコンポーネント（/var/lib/rancher/k3s/agent）とは異なるストレージメディアに配置することです。エージェントコンポーネントにはcontainerdイメージストアが含まれます。</p>
</div>
<div class="paragraph">
<p>ワークロードストレージ（ポッドの一時ストレージおよびボリューム）もデータストアから分離するべきです。</p>
</div>
<div class="paragraph">
<p>データストアのスループットおよびレイテンシ要件を満たさない場合、コントロールプレーンの応答が遅延したり、コントロールプレーンがシステム状態を維持できなくなったりする可能性があります。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_sizing_requirements_for_k3s"><a class="anchor" href="#_server_sizing_requirements_for_k3s"></a>Server Sizing Requirements for K3s</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_environment"><a class="anchor" href="#_environment"></a>Environment</h3>
<div class="ulist">
<ul>
<li>
<p>All agents were t3.medium AWS ec2 instances.</p>
<div class="ulist">
<ul>
<li>
<p>A single agent was a c5.4xlarge instance. This hosted the grafana monitoring stack and prevented it from interfering with the control-plane resources.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The Server was a c5 AWS ec2 instance. As the number of agents increased, the server was upgraded to larger c5 instances.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_methodology"><a class="anchor" href="#_methodology"></a>Methodology</h3>
<div class="paragraph">
<p>This data was retrieved under specific test conditions. It will vary depending upon environment and workloads. The steps below give an overview of the test that was run to retrieve this. It was last performed on v1.31.0+k3s1. All the machines were provisioned in AWS with standard 20 GiB gp3 volumes. The test was run with the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Monitor resources on grafana using prometheus data source.</p>
</li>
<li>
<p>Deploy workloads in such a way to simulate continuous cluster activity:</p>
<div class="ulist">
<ul>
<li>
<p>A basic workload that scales up and down continuously</p>
</li>
<li>
<p>A workload that is deleted and recreated in a loop</p>
</li>
<li>
<p>A constant workload that contains multiple other resources including CRDs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Join agent nodes in batches of 50-100 at a time.</p>
</li>
<li>
<p>Stop adding agents when server CPU spikes above 90% utilization on agent joining, or if RAM was above 80% utilization.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_observations"><a class="anchor" href="#_observations"></a>Observations</h3>
<div class="ulist">
<ul>
<li>
<p>When joining agents, server CPU saw spikes of ~20% over baseline.</p>
</li>
<li>
<p>Typically, the limiting factor was CPU, not RAM. For most of the tests, when the CPU hit 90% utilization, RAM utilization was around 60%.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_a_note_on_high_availability_ha"><a class="anchor" href="#_a_note_on_high_availability_ha"></a>A note on High Availability (HA)</h4>
<div class="paragraph">
<p>At the end of each test, two additional servers were joined (forming a basic 3 node HA cluster) to observe what effect this had on the original server resources. The effect was:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A noticeable drop in CPU utilization, usually 30-50%.</p>
</li>
<li>
<p>RAM utilization remained the same.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While not tested, with CPU utilization as the limiting factor on a single server, it is expected that the number of agents that can be joined would increase by ~50% with a 3 node HA cluster.</p>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="flag-deprecation.html">フラグの非推奨化</a></span>
  <span class="next"><a href="../release-notes/v1.32.X.html">v1.32.X</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
<script src="../../../../_/js/vendor/langSelection.js"></script>
<script async src="../../../../_/js/vendor/tabs.js"></script>


  </body>
</html>
